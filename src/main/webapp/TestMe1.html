<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>

    <script type="text/javascript">
        jQuery(function ($) {

            $("#testForm").submit(function (e) {
                e.preventDefault();

                console.log("Submitting form to " + $(this).attr("action"));

                var data = [];
                data.push('{"verb":"' + $("#verb").attr("value") + '", ');
                data.push('"actor": {"id":"' + $("#actorId").attr("value") + '", "objectType":"' + $("#actorObjectType").attr("value") + '"},');
                data.push('"description": {"us":"' + $("#description").attr("value") + '"}');
                data.push('}');

                alert("Got data: " + data.join(''));
                $.ajax({
                    url: $(this).attr("action"),
                    data: data.join(''),
                    type: 'POST',
                    dataType: 'json',
                    success: function (data) {
                        $("#output").html("Deed, done");
                        console.log("deed, done");
                    },
                    error: function (data) {
                        $("#output").html("Deed, fail");
                        console.log("Something went wrong" + data);
                    }
                });
            });
        });

    </script>
</head>
<body>


<form id="testForm" action="/maxBusinessQueue/publish">
    <label title="Verb" for="verb">Verb</label>
    <input type="text" name="verb" id="verb"/><br/>

    <label title="Actor ID" for="actorId">Actor ID</label>
    <input type="text" name="actorId" id="actorId"/><br/>

    <label title="Actor Object Type" for="actorObjectType">Actor Object Type</label>
    <input type="text" name="actorObjectType" id="actorObjectType"/><br/>

    <label title="Description" for="description">Description</label>
    <input type="text" name="description" id="description"/><br/>


    <button value="Submit" name="Submit">Submit</button>
</form>
<div id="output" name="output"></div>


</body>
</html>