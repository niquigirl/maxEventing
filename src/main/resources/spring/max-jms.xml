<?xml version="1.0" encoding="UTF-8"?>

<!--suppress SpringPlaceholdersInspection -->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd">


    <!--
        MESSAGING SUBSCRIBERS
    -->
    <bean name="eventTaskMap" class="com.max.messaging.subscribe.impl.EventTaskMapping">
        <property name="eventTaskMap">
            <map key-type="java.lang.String" value-type="java.lang.String">
                <entry key="LoggedIn" value="LOG_IN"/>
                <entry key="CoachStarted" value="START_COACH"/>
                <entry key="ProspectAdded" value="ADD_PROSPECT"/>
                <entry key="ProspectContacted" value="CONTACT_PROSPECT"/>
                <entry key="VideoWatched" value="WATCH_VIDEO"/>
                <entry key="WhyAdded" value="ENTER_YOUR_WHY"/>
                <entry key="WhyPhotoUploaded" value="UPLOAD_WHY_PHOTO"/>
                <entry key="AutoShipAdded" value="CREATE_AUTOSHIP"/>
                <entry key="AssociateSignedUp" value="SIGN_UP"/>
            </map>
        </property>
    </bean>
    <!-- If there are ever any service that require some global configurable value, those would be injected here -->

    <bean id="userActivityTopicSettings" class="com.max.messaging.TopicSettings">
        <property name="qpidIcf" value="org.wso2.andes.jndi.PropertiesFileInitialContextFactory"/>
        <property name="carbonClientId" value="carbon"/>
        <property name="carbonDefaultHostname" value="localhost"/>
        <property name="carbonDefaultPort" value="5672"/>
        <property name="connectionFactoryName" value="andesConnectionfactory"/>
        <property name="connectionFactoryNamePrefix" value="connectionfactory."/>
        <property name="topicNamePrefix" value="topic."/>
        <property name="topicName" value="FinalTesting"/> <!-- todo -->
        <property name="carbonVirtualHostName" value="carbon"/>
        <property name="userName" value="admin"/>
        <property name="password" value="admin"/>
    </bean>

    <bean name="userActivityTopicPublisher" class="com.max.messaging.publish.TopicPublisher">
        <property name="topicSettings" ref="userActivityTopicSettings"/>
    </bean>
</beans>
